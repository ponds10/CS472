<app-header></app-header>

<div class="outerContainer">
  <div class="navbarContainer">
    <app-nav-bar></app-nav-bar>
  </div>

  <div class="innerContainer">
    <div class="h-fit w-full bg-cover bg-fixed bg-search tinted">
      <div
        class="h-[500px] w-full font-bold text-7xl flex flex-col justify-end text-white inset-0 bg-black opacity-50"
      >
        <h1 class="p-4">Find Your Next Furry Friend</h1>
      </div>
    </div>

    <!--Filter Panel-->
    <div class="w-full p-4">
      <app-search-panel (petsChange)="searchPets($event)" />
    </div>

    <div class="w-full mt-64 lg:mt-32 lg:flex lg:flex-col lg:items-center">
      <div class="h-screen">
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-message text-red-500 mb-4">
          {{ errorMessage }}
        </div>

        <!-- Loading Indicator -->
        <div *ngIf="!pets?.length && !errorMessage" class="loading-spinner">
          Loading pets...
        </div>

        <!-- Pet List -->

        <div
          *ngIf="pets?.length"
          class="pet-list grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:px-0 gap-4 px-16"
        >
          <button *ngFor="let pet of paginatedPets()" (click)="selectPet(pet)">
            <app-pet-card [pet]="pet" ></app-pet-card>
          </button>


        </div>

        <!-- Pagination Controls -->
        <div class="pagination mt-6 flex justify-center">
          <button
            (click)="prevPage()"
            [disabled]="currentPage === 1"
            class="mx-1 px-3 py-1 border rounded-lg mt-8 px-3 py-2 font-medium hover:bg-blue-300 text-black shadow bg-white"
          >
            Previous
          </button>
          <span class="mx-2">Page {{ currentPage }} of {{ totalPages }}</span>
          <button
            (click)="nextPage()"
            [disabled]="currentPage === totalPages"
            class="mx-1 px-3 py-1 border rounded-lg mt-8 px-3 py-2 font-medium hover:bg-blue-300 text-black shadow bg-white"
          >
            Next
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
