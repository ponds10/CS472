<app-header></app-header>

<div class="outerContainer">
    <div class="lg:flex-1">
        <app-nav-bar></app-nav-bar>
    </div>

    <div class="innerContainer">
        <div class="flex flex-col items-center w-full mt-32">
          <div class="w-1/2 h-[500px] lg:h-[700px]" >
            
            <div class="w-full">

              @if(step1)
              {
                <form [formGroup]="basic_info_fg" class="flex flex-col space-y-16">
                  <div>
                    <p>Create a pet</p>
                    <h1 class="text-3xl space-y-4">Lets start with the basics</h1>
                  </div>

                  <div>
                    <label for="name" class="mb-2 text-gray-900">Name</label>
                    <input formControlName="name" type="text" id="name" class="bg-gray-50 border opacity-75 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full rounded-xl" placeholder="cookie" required/>
                  </div>

                  <div>
                    <label for="description" class="mb-2 text-gray-900">Description</label>
                    <textarea formControlName="description" type="text" id="description" class="bg-gray-50 border opacity-75 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full resize-none rounded-xl"></textarea>
                  </div>

                </form>
  
              }
            </div>

            <div class="w-full">

              @if(step2)
              {
              <form [formGroup]="basic_info_fg" class="flex flex-col space-y-16">
                
                <div>
                  <p>Create a pet</p>
                  <h1 class="text-3xl space-y-4">Upload an image</h1>
                </div>

                <form class="flex flex-col w-full items-center space-y-4">
                    <input type="file" (change)="onUpload($event)">
                </form>
                
                <div>
                    <img src="{{url}}" class="w-full">
                </div>

              </form>
              }
            </div>          

            <div class="w-full">

              @if(step3)
              {
              <form [formGroup]="pet_details_fg" class="flex flex-col space-y-16">
                
                <div>
                  <p>Create a pet</p>
                  <h1 class="text-3xl space-y-4">Pet Details</h1>
                </div>

                <div>
                  <label for="Age" class="mb-2 text-gray-900">Age</label>
                  <input formControlName="age" type="number" id="Age" class="bg-gray-50 border opacity-50 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full" placeholder="12" required/>
                </div>

                <div>
                  <label for="Weight" class="mb-2 text-gray-900">Weight</label>
                  <input formControlName="weight" type="number" id="Weight" class="bg-gray-50 border opacity-50 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full" placeholder="5" required/>
                </div>

                <div>
                  <label for="gender" class="mb-2 text-gray-900">Gender</label>
                  <select formControlName="gender" id="gender" class="bg-white border opacity-50 border-gray-300 text-gray-900 text-sm p-2.5 w-full" required> 
                    <option>Male</option>
                    <option>Female</option>
                  </select>
                </div>

                <div>
                  <label for="breed" class="mb-2 text-gray-900">Breed</label>
                  <select formControlName="breed" id="breed" class="bg-white border opacity-50 border-gray-300 text-sm p-2.5 w-full" required> 
                    @for(breed of dog_breeds; let idx = $index; track idx)
                    {
                        <option>{{breed}}</option>
                    }
                  </select>
                </div>
              </form>
              }

              <div class="w-full">
                @if(step4)
                {
                  <form [formGroup]="pet_health_fg" class="flex flex-col space-y-16">
                
                    <div>
                      <p>Create a pet</p>
                      <h1 class="text-3xl space-y-4">Pet Health Info</h1>
                    </div>

                    <div>
                      <label for="vet_visits" class="mb-2 text-gray-900">Vetinary Visit Summary</label>
                      <textarea formControlName="vet_visits" type="text" id="vet_visits" class="bg-gray-50 border opacity-75 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full resize-none rounded-xl"></textarea>
                    </div>

                    <div>
                      <label for="vaccinations" class="mb-2 text-gray-900">Vaccinations</label>
                      <textarea formControlName="vaccinations" type="text" id="vaccinations" class="bg-gray-50 border opacity-75 border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 p-2.5 w-full resize-none rounded-xl"></textarea>
                    </div>
  
                  </form>
                }
              </div>

              <div class="w-full">
                @if(step5)
                {
                  <div class="flex flex-col space-y-16">
                    <div>
                      <p>Create a pet</p>
                      <h1 class="text-3xl space-y-4">Review</h1>
                    </div>
                    
                    <div class="h-[500px] overflow-y-auto w-full p-16 bg-white bg-opacity-50 rounded-xl space-y-4">
                      <div>
                        <img [src]="url" class="w-[250px] h-auto rounded-full">
                      </div>
                      <div>Name: {{this.basic_info_fg.controls.name.value}}</div>
                      <div>Biography: {{this.basic_info_fg.controls.description.value}}</div>
                      <div>Age: {{this.pet_details_fg.controls.age.value}}</div>
                      <div>Weight: {{this.pet_details_fg.controls.weight.value}}</div>
                      <div>Gender: {{this.pet_details_fg.controls.gender.value}}</div>
                      <div>Breed: {{this.pet_details_fg.controls.breed.value}}</div>
                      <div>Vet Visit Summaries: {{this.pet_health_fg.controls.vet_visits.value}}</div>
                      <div>Vet Visit Summaries: {{this.pet_health_fg.controls.vaccinations.value}}</div>
                    </div>
                  </div>
                }
              </div>
            </div>
          </div>
          
          <div class="flex space-x-4">
            <button (click)="back()"> <mat-icon>keyboard_arrow_left</mat-icon> </button>
            <button (click)="next()"> <mat-icon>keyboard_arrow_right</mat-icon></button>
          </div>
        </div>
    </div>
</div>
